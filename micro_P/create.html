<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Daily Diary</title>
    <!-- bootstrap -->
    <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css"
        integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
    <link rel="stylesheet" href="bootstrap/css/bootstrap-theme.min.css"
        integrity="sha384-6pzBo3FDv/PJ8r2KRkGHifhEocL+1X2rVCTTkUfGk7/0pbek5mMa1upzvWbrUbOZ" crossorigin="anonymous">
    <script src="bootstrap/js/bootstrap.min.js"
        integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd"
        crossorigin="anonymous"></script>
    <!-- css link  -->
    <link rel="stylesheet" href="/micro_P/dailyDiary.css">
    <!-- font awesome  -->
    <script src='https://kit.fontawesome.com/' crossorigin='anonymous'></script>
    <!-- External js  -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js"
        integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+"
        crossorigin="anonymous"></script>
    <!-- bootstrap extra  -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <!-- icon  -->
    <link rel="shortcut icon" href="icon/open-book(2).png" type="image/x-icon">
    <!-- google font  -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&family=Josefin+Sans&display=swap"
        rel="stylesheet">
</head>

<body>
    <!-- front page  -->
    <div class="frontPage_nav container">
        <div>
            <nav class="navbar navbar-default navbar-fixed-top" id="navbar">
                <div class="container" style="padding: 0px;">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                            data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                    </div>
                    <div class="collapse navbar-collapse no_gradi" id="bs-example-navbar-collapse-1">
                        <ul class="nav navbar-nav">
                            <li><a href="dailyDiary.html">Home</a></li>
                            <li class="grey_text">x</li>
                            <li><a href="services.html">Services</a></li>
                            <li class="grey_text">x</li>
                            <li><a href="Blog.html">Blogs</a></li>
                            <li class="grey_text">x</li>
                            <li><a href="aboutUs.html">About Us</a></li>
                            <li class="grey_text">x</li>
                            <li><a href="contactUs.html">Contact Us</a></li>
                        </ul>
                        <ul class="nav navbar-nav navbar-right" id="log_in" style="padding-right: 34px;">
                            <li id="proItem">
                                <a href="#" style="width:auto; padding-top: 18px;border-radius: 100%;"
                                    class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
                                    aria-expanded="false">
                                    <p id="profile"><i class="fa-solid fa-user"></i></p>
                                </a>
                                <ul class="dropdown-menu">
                                    <li><button class="inpro btn btn-block" onclick="openCreate()">Manage Diary</button>
                                    </li>
                                    <li><button class="inpro btn btn-block" onclick="openManage()">Your Profile</button>
                                    </li>
                                    <li><button class="inpro btn btn-block" href="#" onclick="logout_me()">Logout</button>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
        </div>
    </div>

    <div style="height: 50px;"></div>

    <div class="container">
        <div class="contain">
            <table width="100%">
                <tr>
                    <td width="50%">
                        <div class="form-header">
                            <h3 id="createOrEdit">Create Entry</h3>
                        </div>
                    </td>
                    <td>
                        <div class="logging">
                            <h1>Total Entries:&nbsp;<span id="displaycount"> 0</span></h1>
                        </div>
                    </td>
                </tr>
            </table>
            <div class="form-content" id="getForm">


                <div class="form-body" id="form-body">
                    <table width="100%">
                        <tr>
                            <td width="50%">
                                <p><b> Date :</b></p>
                                <div class="date">
                                    <input type="date" name="today" id="daydate" required="">
                                </div>
                            </td>
                            <td></td>
                        </tr>
                    </table>
                    <br>
                    <div class="story1">
                        <label for="heading"><b>Subject</b></label>
                        <input type="text" placeholder="Title here" name="heading" id="heading" required>
                        <br><br>
                        <label for="milestones"><b>Accomplished Milestones</b></label>
                        <input type="text" placeholder="Milestones here" name="milestones" id="milestones">
                        <br><br>
                        <label for="agenda"><b>Proposed Milestones</b></label>
                        <input type="text" placeholder="Agenda here" name="agenda" id="agenda">
                        <br><br>
                        <label for="lessons"><b>Wisdom Today</b></label>
                        <input type="text" placeholder="Lessons here" name="lesson" id="lesson">
                        <br><br>
                        <label for="subject"><b>Summary</b></label>
                        <textarea id="story" name="thought" placeholder="Write something.."></textarea>
                    </div>
                    <br>
                    <div class="row">
                        <button class="btn" onclick="addData()">Add</button>
                        <!-- <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                            <button class="btn" onclick="updateData()">Save</button>
                        </div> -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="entries">
            <center>
                <h1>All Entries</h1>
                <p>(Click on title to its content)</p>
            </center>
            <div class="row">
                <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                    <center>
                        <h3>Sr no</h3>
                        <ul id="srkeeper"></ul>
                    </center>
                </div>
                <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                    <center>
                        <h3>Date</h3>
                        <ul id="date_keeper"></ul>
                    </center>
                </div>
                <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                    <center>
                        <h3>Title</h3>
                        <ul id="journal_list"></ul>
                    </center>
                </div>
            </div>
        </div>
    </div>
    <div style="height: 150px"></div>
    <!-- footer start  -->
    <div class="container-fluid footer_bg" width="100%">
        <div class="row">
            <div class="col-md-3 col-lg-3">
                <div class="footer_header">
                    <br><br><br>
                    <div>
                        <h1>Daily Diary</h1>
                        <p>Your private, 100% customizable online journal.
                            Loved by over 2 million writers around the world.
                        </p>
                        <br>
                        <div class="footer_logo">
                            
                                <i style="color:#3b5998;" class="fa-brands fa-facebook"></i>
                                <i style="background-image:linear-gradient(95deg,rgb(255, 0, 247), rgb(255, 0, 0));
                                background-clip: text;
                                -webkit-background-clip: text;
                                -webkit-text-fill-color: transparent;" class="fa-brands fa-instagram"></i>
                            <i style="color:#00acee" class="fa-brands fa-twitter"></i>
                            <i style="color: #0A66C2" class="fa-brands fa-linkedin"></i>
                            <i style="color:  #c8232c" class="fa-brands fa-pinterest"></i>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3 col-lg-3">
                <br><br>
                <div class="footer_links">
                    <h3>MORE LINKS</h3>
                    <br>
                    <ul>
                        <li><a href="#">Home</a></li>
                        <li><a href="#">Services</a></li>
                        <li><a href="#">About</a></li>
                        <li><a href="#">Contact</a></li>
                    </ul>
                </div>
            </div>
            <div class="col-md-3 col-lg-3">
                <br><br>
                <div class="footer_contact">
                    <h3>CONTACT US</h3>
                    <br>
                    <div class="row">
                        <div class="col-md-1   col-lg-1  ">
                            <span class=" glyphicon glyphicon-earphone"></span>
                        </div>
                        <div class="col-md-10   col-lg-10  ">
                            <a href="tel:+91 9876543210">+91 9876543210</a><br>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-1   col-lg-1  ">
                            <span class="fa-solid fa-envelope"></span>
                        </div>
                        <div class="col-md-10   col-lg-10  ">
                            <a href="mailto:dailyDiary@mail.com">dailyDiary@mail.com</a>
                        </div>
                    </div>
                    <br><br>
                </div>
            </div>
            <div class="col-md-3 col-lg-3">
                <br><br>
                <div class="footer_contact">
                    <h3>NEWSLETTER</h3>
                    <br>
                    <form class="form-inline">
                        <div class="form-group">
                          <label class="sr-only" for="InputEmail">Email address</label>
                          <input type="email" class="form-control" id="InputEmail" placeholder="Email">
                        </div>
                  
                        <button style="background-color:#Dfb163;color:black;" type="submit" class="btn">Submit</button>
                    </form>
                </div>
            </div>
        </div>
            <hr>
            <h6 style="text-align: center">All &copy;CopyRights Reserved</h6>
    </div>

    <script>
        var allEntries = [];
        var headings = [];
        var sr = 0;

        function validate() {
            let isEmpty = false;
            const onHeading = document.getElementById('heading').value,
                onMilestones = document.getElementById('milestones').value,
                onAgenda = document.getElementById('agenda').value,
                onLesson = document.getElementById('lesson').value,
                onStory = document.getElementById('story').value,
                onDate = document.getElementById('daydate').value;

            if (onHeading === '' || onDate === '' || onStory === '') {
                alert('Fill out the required fields!');
                isEmpty = true;
            }
            return isEmpty;
        }

        function addData() {
            if (!validate()) {
                const onheading = document.getElementById('heading').value,
                    ondate = document.getElementById('daydate').value,
                    onstory = document.getElementById('story').value,
                    onlesson = document.getElementById('lesson').value,
                    onmilestones = document.getElementById('milestones').value,
                    onagenda = document.getElementById('agenda').value;
                if (headings.includes(onheading) === true) {
                    alert("Entry already exist");
                } else {
                    headings.push(onheading);
                    document.getElementById('displaycount').innerHTML = headings.length;
                    sr++;
                    var ul = document.getElementById('srkeeper');
                    var li = document.createElement('li');
                    li.innerHTML = sr;
                    ul.append(li);
                    var ul2 = document.getElementById('date_keeper');
                    var li2 = document.createElement('li');
                    li2.innerText = ondate;
                    ul2.append(li2);
                    var ul3 = document.getElementById('journal_list');
                    var li3 = document.createElement('li');
                    li3.innerHTML = onheading;
                    li3.setAttribute("onclick", "showItsContent(this)");
                    ul3.append(li3);

                    // clear fields come here
                    document.getElementById('heading').value = '';
                    document.getElementById('milestones').value = '';
                    document.getElementById('daydate').value = '';
                    document.getElementById('agenda').value = '';
                    document.getElementById('lesson').value = '';
                    document.getElementById('story').value = '';

                    // Declare an object
                    const diaryObj = { heading: onheading, daydate: ondate, story: onstory, lesson: onlesson, milestones: onmilestones, agenda: onagenda };
                    allEntries.push(diaryObj);

                }
            }
        }

        function showItsContent(a) {
            for (let i = 0; i < allEntries.length; i += 1) {
                if (a.innerText === allEntries[i].heading) {
                    document.getElementById('form-body').innerHTML = '<table width="100%"><tr><td width="50%"><p><b> Date :</b></p><input type="text" id="dayDateView" disabled></td><td></td></tr></table><br><div class="story1"><label for="heading"><b>Subject</b></label><input type="text" id="headingView" disabled><br><br><label for="milestones"><b>Accomplished Milestones</b></label><input type="text" id="milestonesView" disabled><br><br><label for="agenda"><b>Proposed Milestones</b></label><input type="text" id="agendaView" disabled><br><br><label for="lessons"><b>Wisdom Today</b></label><input type="text" id="lessonView" disabled><br><br><label for="subject"><b>Summary</b></label><textarea id="storyView" disabled></textarea></div><br><div class="row"><button class="btn" onclick="editData()">Edit</button><button class="btn" onclick="resetForm()">New Entry</button></div>';

                    document.getElementById("createOrEdit").innerText = "Showing " + allEntries[i].heading;
                    document.getElementById('dayDateView').value = allEntries[i].daydate;
                    document.getElementById('dayDateView').style.backgroundColor = "rgb(181, 181, 181)";
                    document.getElementById('headingView').value = allEntries[i].heading;
                    document.getElementById('headingView').style.backgroundColor = "rgb(181, 181, 181)";
                    document.getElementById('milestonesView').value = allEntries[i].milestones;
                    document.getElementById('milestonesView').style.backgroundColor = "rgb(181, 181, 181)";
                    document.getElementById('agendaView').value = allEntries[i].agenda;
                    document.getElementById('agendaView').style.backgroundColor = "rgb(181, 181, 181)";
                    document.getElementById('lessonView').value = allEntries[i].lesson;
                    document.getElementById('lessonView').style.backgroundColor = "rgb(181, 181, 181)";
                    document.getElementById('storyView').value = allEntries[i].story;
                    document.getElementById('storyView').style.backgroundColor = "rgb(181, 181, 181)";


                }
            }
        }

        function resetForm() {
            document.getElementById('form-body').innerHTML = '<table width="100%"><tr><td width="50%"><p><b> Date :</b></p>        <div class="date"><input type="date" name="today" id="daydate" required=""></div></td><td></td></tr></table><br><div class="story1"><label for="heading"><b>Subject</b></label>    <input type="text" placeholder="Title here" name="heading" id="heading" required><br><br><label for="milestones"><b>Accomplished Milestones</b></label>    <input type="text" placeholder="Milestones here" name="milestones" id="milestones"><br><br><label for="agenda"><b>Proposed Milestones</b></label><input type="text" placeholder="Agenda here" name="agenda" id="agenda"><br><br><label for="lessons"><b>Wisdom Today</b></label><input type="text" placeholder="Lessons here" name="lesson" id="lesson"><br><br><label for="subject"><b>Summary</b></label><textarea id="story" name="thought" placeholder="Write something.."></textarea></div><br><div class="row"><button class="btn" onclick="addData()">Add</button></div>'
            document.getElementById("createOrEdit").innerText = "Create Entry";
        }
        
        function editData() {
            var a = document.getElementById('headingView').value;
            for (let i = 0; i < allEntries.length; i += 1) {
                if (a === allEntries[i].heading) {
                    document.getElementById('form-body').innerHTML = '<table width="100%"><tr>    <td width="50%">        <p><b> Date :</b></p>        <div class="date">            <input type="date" name="today" id="daydate" required="">        </div>    </td>    <td></td></tr></table><br><div class="story1">    <label for="heading"><b>Subject</b></label>    <input type="text" placeholder="Title here" name="heading" id="heading" required>    <br><br>    <label for="milestones"><b>Accomplished Milestones</b></label>    <input type="text" placeholder="Milestones here" name="milestones" id="milestones">    <br><br>    <label for="agenda"><b>Proposed Milestones</b></label>    <input type="text" placeholder="Agenda here" name="agenda" id="agenda">    <br><br>    <label for="lessons"><b>Wisdom Today</b></label>    <input type="text" placeholder="Lessons here" name="lesson" id="lesson">    <br><br>    <label for="subject"><b>Summary</b></label>        <textarea id="story" name="thought" placeholder="Write something.."></textarea></div>    <br><div class="row"><button class="btn" onclick="updateData()">Save</button><button class="btn" onclick="resetForm()">New Entry</button></div>';

                    document.getElementById('daydate').value = allEntries[i].daydate;
                    document.getElementById('heading').value = allEntries[i].heading;
                    document.getElementById('milestones').value = allEntries[i].milestones;
                    document.getElementById('agenda').value = allEntries[i].agenda;
                    document.getElementById('lesson').value = allEntries[i].lesson;
                    document.getElementById('story').value = allEntries[i].story;

                }
            }
            document.getElementById("createOrEdit").innerText = "Editing "+a;
        }

        function updateData() {
            const reheading = document.getElementById('heading').value,
                redate = document.getElementById('daydate').value,
                restory = document.getElementById('story').value,
                relesson = document.getElementById('lesson').value,
                reagenda = document.getElementById('agenda').value,
                remilestones = document.getElementById('milestones').value;


            for (let x = 0; x < allEntries.length; x += 1) {
                if (reheading !== allEntries[x].heading && redate !== allEntries[x].daydate && x==allEntries.length-1) {
                    alert("cant change title or date")
                } else if (reheading === allEntries[x].heading && redate === allEntries[x].daydate) {
                    allEntries[x].story = restory;
                    allEntries[x].heading = reheading;
                    allEntries[x].daydate = redate;
                    allEntries[x].lesson = relesson;
                    allEntries[x].agenda = reagenda;
                    allEntries[x].milestones = remilestones;
                    alert("Changes done");
                    resetForm();
                }
            }
        }
        
        function logout_me(){
            window.open('dailyDiary.html','_self','resizable=yes');
        }
        function openManage(){
            window.open('prof.html','_self','resizable=yes');
        }
    </script>
</body>

</html>
